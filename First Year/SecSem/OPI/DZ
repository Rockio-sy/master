[Модульное домашнее задание](Модульное домашнее задание. Вариант 7)

[[_TOC_]]
# Постановка задачи

## Условие задачи

В строках текстового of the file содержатся целые числа, разделенные произвольным количеством пробелов. В каждой строке упорядочить по возрастанию числа, заканчивающиеся на 7, не изменяя положения остальных чисел. Результат записать в новый файл.

## Допущения

- В файле не более 10 строк
- Числа разделены произвольным кол-во пробелов
- В файле только целые числа, которые записаны правильно
- Диапазон значений чисел ограничен целым типом
- Кол-во чисел в строке файла не более 10
- Система счисления десятичная
- Кол-во чисел в файле не указано

## Примеры работы

| Исходный файл  |      Вывод      |  
|----------------|-----------------|
| 3 -17 29 abc <br> 68 0.96 -1.8 <br> 35 * 762 <br> | Сообщение "Файл содержит некорректные данные" |
| Несуществующий файл| Сообщение "Файл не существует" |
| Пустой файл | Сообщение "Файл пуст"|
| 39 0 29999999999 | Сообщение "Файл содержит слишком большие числа" |
| 26 7 17 27 7 <br> -9 17 11 <br> ... еще 8 строк <br> 27 67 37 | Сообщение "file слишком длинный" |
| 1 2 3 4 5 6 7 8 9 10 11 | Сообщение "Файл содержит слишком длинные строки" |
| 1 2 3 4 5 | 1 2 3 4 5 |
| 1 2 3 4 5 7 | 1 2 3 4 5 7 |
| 1 17 7 4 <br> 4 6 9 <br> 13 27 7 17 14 7 | 1 7 17 4 <br> 4 6 9 <br> 13 7 7 17 14 27 |
| 1 17 -7 4 <br> 4 6 9 <br> 13 -27 7 17 14 7 | 1 -7 17 4 <br> 4 6 9 <br> 13 -27 7 17 14 7 |

# Декомпозиция

## IDEF0 - диаграмма

![image](uploads/ba641152a5da8aa7cd9ca66e20e2b913/image.png)
![image](uploads/e07c397ef4f853013a1a12dc5e261840/image.png)

# Спецификация модулей

## Спецификация модуля А1

| Имя | ReadArray |
|-|-|
| Функция | Считывание в массив чисел, расположенных <br> на одной строке файла |
| Список параметров | Файловая переменная, массив, количество <br> элементов в массиве |
| Входные данные | Файловая переменная |
| Выходные данные | Массив, количество элементов в массиве |
| Внешние эффекты | Перемещение указателя в файле на <br> следующую строку |
| Допущение модуля | Файл существует и он не пустой |

## Тестовые данные для Moudle А1

| file's lines | Results |
|--------------|-----------|
| Пустая | Массив пустой, количество элементов равно 0 |
| 5 | 5, количество элементов равно 1 |
| 1 -23 20 | 1 -23 20, количество элементов равно 3 |
| a 2 3 | Код возврата 1 |
| 2 3 3.3 | Код возврата 1 |
| 1 2 3 4 5 6 7 8 9 10 11 | Код возврата 2 |

```
Примечание:
для тестирования данного модуля выделяется два
класса эквивалентности: пустой массив и не пустой. При этом для
непустого массива рассматриваются случаи, когда элемент один, и
когда их несколько, когда один из элементов не целое число, и когда 
один из элементов символ
```

## Псевдокод для moudle А1
```
ReadArray
Вход: f – файловая переменная
Выход: а – массив целых чисел,
       n – количество элементов в массиве
       code - код возврата
n=0
code = 0
пока не конец строки делать
    прочитать элемент массива a[n]
    если элемент a[n] не целое число
        code = 1
        вернуть 1
    n=n+1
    если n > 10
        code = 2
        вернуть 2
    все если
все пока
```

## Спецификация модуля А2

| Name | CountNumbersEndingIn7 |
|-|-|
| Функция | Добавляет числа и индексы <br> оканчивающихся на 7 в два массива |
| Список параметров | Массив, количество элементов <br> в массиве, числа <br> оканчивающихся на 7 в массиве и <br> индексы этих чисел в массиве <br> кол-во элементов в массиве, оканчивающихся на 7 |
| Входные данные | Массив, количество элементов <br> в массиве |
| Выходные данные | Числа и индексы этих чисел оканчивающихся на 7 <br> в двух разных массивах кол-во элементов в массиве, оканчивающихся на 7|
| Внешние эффекты | Нет |

## Тестовые данные для модуля А2

| Кол-во элементов в <br> массиве / Массив | Результат – массив <br> в которых числа <br> оканчиваются на 7 / массив <br> в котором индексы этих чисел / <br> кол-во элементов в массиве, оканчивающихся на 7 |
|-|-|
| 3 / -10 5 10 | - / - / 0 |
| 5 / -10 1 7 55 17 | 7 17 / 2 4 / 2 |
| 4 / -8 2 6 7 | 7 / 3 / 1 |
| 5 / 17 7 27 37 57 | 17 7 27 37 57 / 0 1 2 3 4 / 5 |
| 2 / 17 -7 | 17 -7 / 0 1 / 2 |

```
Примечание: для тестирования данного модуля выделяется два класса
эквивалентности: в массиве нет чисел оканчивающихся на 7, в массиве есть числа
оканчивающихся на 7 (при этом в данном классе можно выделить три подкласса –
среди чисел строки есть какое-то количество чисел оканчивающихся на 7, одно
число и все числа строки являются числами оканчивающихся на 7)
```

## Псевдокод для модуля А2

```
CountNumbersEndingIn7
Вход: a – массив целых чисел,
      n – количество элементов в массиве
Выход: arr1 - массив чисел оканчивающихся на 7,
       arr2 - массив индексов чисел оканчивающихся на 7
       n2 - кол-во элементов в массиве, оканчивающихся на 7
n2 = 0
i = 0
j = 0
пока i < n делать
   если abs(a[i]) % 10 = 7
       arr1[j] = a[i]
       arr2[j] = i
       n2=n2+1
       j = j + 1
   все если
   i = i+1
все пока
```

## Спецификация модуля А3

| Name | Arranging |
|-|-|
| Функция | Массив с упорядоченным видом |
| Список параметров | Массив <br> количество элементов в массиве, оканчивающихся на 7 <br> массив чисел оканчивающихся на 7, <br> массив индексов чисел оканчивающихся на 7 |
| Входные данные | Массив, количество элементов в массиве, оканчивающихся на 7 <br> массив чисел оканчивающихся на 7, <br> массив индексов чисел оканчивающихся на 7 |
| Выходные данные | Массив |
| Внешние эффекты | Нет |

## Тестовые данные для модуля А3

| Количество элементов в массиве, <br> оканчивающихся на 7 / массив / <br> массив чисел оканчивающихся на 7 / <br> массив индексов чисел оканчивающихся на 7 | Массив |
|-|-|
| 2 / -10 1 7 55 17 / 7 17 / 2 4 | -10 1 7 55 17 |
| 1 / -8 2 6 7 / 7 / 3 | -8 2 6 7 |
| 5 / 17 7 27 37 57 / 17 7 27 37 57 / 0 1 2 3 4 |  7 17 27 37 57 |

```
Примечание: для тестирования данного модуля выделяется два класса
эквивалентности: в массиве нет чисел оканчивающихся на 7, в массиве есть числа
оканчивающихся на 7 (при этом в данном классе можно выделить три подкласса –
среди чисел строки есть какое-то количество чисел оканчивающихся на 7, одно
число и все числа строки являются числами оканчивающихся на 7, а также чтобы некоторые были не упорядочены по возрастанию)
```

## Псевдокод для модуля А3

```
Вход: a – массив целых чисел,
      n2 – количество элементов в массиве чисел оканчивающихся на 7
      arr1 - массив чисел оканчивающихся на 7,
      arr2 - массив индексов чисел оканчивающихся на 7
Выход: a - массив целых чисел, упорядоченный по условию
i=0
если n2 != 0
  пока i < n2 делать
    digit = arr1[i]
    min = arr1[i]
    j = i
    пока j < n делать
      если min > arr1[j]
        min = arr1[j]
        id_j = j
      все если
      j = j + 1
    все пока
    arr1[i] = min
    arr1[id_j] = digit
    i = i + 1
  все пока
  i = 0
  пока i < n делать
    a[arr2[i]] = arr1[i]
    i = i + 1
  все пока
все если
```

## Спецификация модуля А4

| Name | PrintInNewFile |
|-|-|
| Функция | Ввод массива во второй файл |
| Список параметров | Массив, количество элементов в массиве, файловая переменная |
| Входные данные | Массив, количество элементов в массиве, файловая переменная |
| Выходные данные | Нет |
| Внешние эффекты | Нет |

## Тестовые данные

| Количество элементов в <br> массиве / массив | Результат |
|-|-|
| 5 / 1 2 3 4 5 | 1 2 3 4 5 |
| 1 / 7 | 7 |

```
Примечание: для тестирования данного модуля выделяется два
класса эквивалентности: в массиве один элемент, в массиве
несколько элементов
```

## Псевдокод для модуля А4

```
Вход: a – массив целых чисел,
      n – количество элементов в массиве
      f2 - файловая переменная
Выход: -
пока i < n делать 
  печатать a[i] в f2
  i = i + 1
все пока
```

## Псевдокод основной программы

```
Вход: имя файла
Выход: -
Открыть файл f с указанным именем на чтение
Открыть файл f2 с указанным именем на запись
если файл f не существует
    напечатать сообщение «Файл не существует»
иначе
   если файл f пустой то
       напечатать сообщение «Файл пуст»
   иначе
   пока не конец файла f делать
       code = ReadArray(f, a, n)
       если code = 1
           напечатать сообщение «Некорректное значение»
       все если
       если n = 0
           напечатать сообщение «Cтрока пуста»
       все если
       CountNumbersEndingIn7(a, n, arr1, arr2, n2)
       if n2 <> 0
           Arranging(a, n, arr1, arr2)
           PrintInNewFile(f2, a, n)
       все если
   все пока
   все если
все если
Закрыть файл f
Закрыть файл f2

Примечания: f – файловая переменная для чтения, f2 - файловая переменная для записи
 a – массив целых чисел
 n – количество элементов в массиве
 arr1 - массив чисел оканчивающихся на 7
 arr2 - массив индексов чисел оканчивающихся на 7
 n2 - количество элементов в массиве чисел оканчивающихся на 7
```
